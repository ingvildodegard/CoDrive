{"filter":false,"title":"index.html","tooltip":"/client/index.html","undoManager":{"mark":22,"position":22,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":157,"column":0},"action":"insert","lines":["<!doctype html>","<html lang=\"en\" ng-app>","  <head>","    <title>EZTravel</title>","    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">","    <link rel=\"stylesheet\" href=\"/css/bootstrap.min.css\">","    <link rel=\"stylesheet\" href=\"/css/bootstrap-responsive.min.css\">","    <style>","      body {","        padding-top: 60px;","      }","    </style>","    <script>","      function TripController($scope) {","        var socket = io.connect();","","        $scope.trips = [];","        $scope.roster = [];","        $scope.id = '';","        $scope.user = '';","        $scope.start = '';","        $scope.end = '';","        $scope.destination = '';","        $scope.price = '';","","        socket.on('connect', function () {","          $scope.setName();","        });","","        socket.on('trip', function (trip) {","          $scope.trips.push(trip);","          $scope.$apply();","        });","","        socket.on('roster', function (names) {","          $scope.roster = names;","          $scope.$apply();","        });","","        $scope.send = function send() {","          console.log('Sending message:', $scope.destination);","          socket.emit('trip', $scope.destination);","          $scope.text = '';","        };","","        $scope.setName = function setName() {","          socket.emit('identify', $scope.name);","        };","      }","    </script>","  </head>","  <body>","    <div class=\"container\" ng-controller=\"TripController\">","      <div class=\"navbar navbar-fixed-top navbar-inverse\">","        <div class=\"navbar-inner\">","          <div class=\"pull-right\">","            <a href=\"https://github.com/Statoil/EZTravel\" class=\"brand\">EZTravel</a>","          </div>","        </div>","      </div>","      <div class=\"page-header\">","        <h1><a href='/db'>Trips</a></h1>","      </div>","      <div class=\"row\">","     <!--   <div class=\"span3\">","          <ul class=\"nav nav-list well\">","            <li class=\"nav-header\">Local Users</li>","            <li ng-repeat=\"user in roster\" ng-bind=\"user\">","            </li>","          </ul>","        </div>  -->","        <div class=\"span16\">","          <table class=\"table table-striped table-bordered\">","            <thead>","              <tr>","                <th class=\"span1\">Id</th>","                <th class=\"span2\">User</th>","                <th class=\"span2\">Start</th>","                <th class=\"span2\">End</th>","                <th class=\"span7\">Destination</th>","                <th class=\"span2\">Price</th>","              </tr>","            </thead>","            <tbody>","              <tr ng-repeat=\"trip in trips\">","                <td class=\"span1\" ng-bind=\"trip._id\"></td>","                <td class=\"span2\" ng-bind=\"trip.user\"></td>","                <td class=\"span2\" ng-bind=\"trip.start\"></td>","                <td class=\"span2\" ng-bind=\"trip.end\"></td>","                <td class=\"span7\" ng-bind=\"trip.destination\"></td>","                <td class=\"span2\" ng-bind=\"trip.price\"></td>","              </tr>","            </tbody>","          </table>","          ","          <video id=\"video\" width=\"640\" height=\"480\" autoplay></video>","          <button id=\"snap\">Snap Photo</button>","          <canvas id=\"canvas\" width=\"640\" height=\"480\"></canvas>","           <script>","          // Put event listeners into place","window.addEventListener(\"DOMContentLoaded\", function() {","\t// Grab elements, create settings, etc.","\tvar canvas = document.getElementById(\"canvas\"),","\t\tcontext = canvas.getContext(\"2d\"),","\t\tvideo = document.getElementById(\"video\"),","\t\tvideoObj = { \"video\": true },","\t\terrBack = function(error) {","\t\t\tconsole.log(\"Video capture error: \", error.code); ","\t\t};","","\t// Put video listeners into place","\tif(navigator.getUserMedia) { // Standard","\t\tnavigator.getUserMedia(videoObj, function(stream) {","\t\t\tvideo.src = stream;","\t\t\tvideo.play();","\t\t}, errBack);","\t} else if(navigator.webkitGetUserMedia) { // WebKit-prefixed","\t\tnavigator.webkitGetUserMedia(videoObj, function(stream){","\t\t\tvideo.src = window.webkitURL.createObjectURL(stream);","\t\t\tvideo.play();","\t\t}, errBack);","\t}","\telse if(navigator.mozGetUserMedia) { // Firefox-prefixed","\t\tnavigator.mozGetUserMedia(videoObj, function(stream){","\t\t\tvideo.src = window.URL.createObjectURL(stream);","\t\t  \tvideo.play();","\t\t}, errBack);","\t}","\t// Trigger photo take","  document.getElementById(\"snap\").addEventListener(\"click\", function() {","  \tcontext.drawImage(video, 0, 0, 640, 480);","  });","}, false);","","</script>","         <!-- <div class=\"span14\">","          <div class=\"row controls\">","            <form ng-submit=\"send()\">","              <div class=\"span2\"><input type=\"text\" class=\"input-block-level\" ng-model=\"destination\" ng-change=\"setName()\" placeholder=\"Destination\"></div> ","              <div class=\"span1\"><input type=\"text\" class=\"input-block-level\" ng-model=\"id\" placeholder=\"ID\"></div>","              <div class=\"span2\"><input type=\"text\" class=\"input-block-level\" ng-model=\"start\" placeholder=\"Start\"></div>","              <div class=\"span2\"><input type=\"text\" class=\"input-block-level\" ng-model=\"end\" placeholder=\"End\"></div>","              <div class=\"span7\"><input type=\"text\" class=\"input-block-level\" ng-model=\"destination\" placeholder=\"Destination\"></div>","              <div class=\"input-append span2\"><input type=\"text\" class=\"span1\" ng-model=\"price\" placeholder=\"Price\">","                <input type=\"submit\" class=\"span1 btn btn-primary\" value=\"Send\" ng-disabled=\"!destination\">","              </div>","            </form>","          </div>-->","        </div>","      </div>","    </div>","    <script src=\"/socket.io/socket.io.js\"></script>","    <script src=\"/js/jquery.min.js\"></script>","    <script src=\"/js/bootstrap.min.js\"></script>","    <script src=\"/js/angular.min.js\"></script>","  </body>","</html>",""]}]}],[{"group":"doc","deltas":[{"start":{"row":151,"column":0},"end":{"row":152,"column":0},"action":"remove","lines":["    <script src=\"/socket.io/socket.io.js\"></script>",""]}]}],[{"group":"doc","deltas":[{"start":{"row":135,"column":0},"end":{"row":151,"column":0},"action":"remove","lines":["         <!-- <div class=\"span14\">","          <div class=\"row controls\">","            <form ng-submit=\"send()\">","              <div class=\"span2\"><input type=\"text\" class=\"input-block-level\" ng-model=\"destination\" ng-change=\"setName()\" placeholder=\"Destination\"></div> ","              <div class=\"span1\"><input type=\"text\" class=\"input-block-level\" ng-model=\"id\" placeholder=\"ID\"></div>","              <div class=\"span2\"><input type=\"text\" class=\"input-block-level\" ng-model=\"start\" placeholder=\"Start\"></div>","              <div class=\"span2\"><input type=\"text\" class=\"input-block-level\" ng-model=\"end\" placeholder=\"End\"></div>","              <div class=\"span7\"><input type=\"text\" class=\"input-block-level\" ng-model=\"destination\" placeholder=\"Destination\"></div>","              <div class=\"input-append span2\"><input type=\"text\" class=\"span1\" ng-model=\"price\" placeholder=\"Price\">","                <input type=\"submit\" class=\"span1 btn btn-primary\" value=\"Send\" ng-disabled=\"!destination\">","              </div>","            </form>","          </div>-->","        </div>","      </div>","    </div>",""]}]}],[{"group":"doc","deltas":[{"start":{"row":98,"column":0},"end":{"row":133,"column":0},"action":"remove","lines":["           <script>","          // Put event listeners into place","window.addEventListener(\"DOMContentLoaded\", function() {","\t// Grab elements, create settings, etc.","\tvar canvas = document.getElementById(\"canvas\"),","\t\tcontext = canvas.getContext(\"2d\"),","\t\tvideo = document.getElementById(\"video\"),","\t\tvideoObj = { \"video\": true },","\t\terrBack = function(error) {","\t\t\tconsole.log(\"Video capture error: \", error.code); ","\t\t};","","\t// Put video listeners into place","\tif(navigator.getUserMedia) { // Standard","\t\tnavigator.getUserMedia(videoObj, function(stream) {","\t\t\tvideo.src = stream;","\t\t\tvideo.play();","\t\t}, errBack);","\t} else if(navigator.webkitGetUserMedia) { // WebKit-prefixed","\t\tnavigator.webkitGetUserMedia(videoObj, function(stream){","\t\t\tvideo.src = window.webkitURL.createObjectURL(stream);","\t\t\tvideo.play();","\t\t}, errBack);","\t}","\telse if(navigator.mozGetUserMedia) { // Firefox-prefixed","\t\tnavigator.mozGetUserMedia(videoObj, function(stream){","\t\t\tvideo.src = window.URL.createObjectURL(stream);","\t\t  \tvideo.play();","\t\t}, errBack);","\t}","\t// Trigger photo take","  document.getElementById(\"snap\").addEventListener(\"click\", function() {","  \tcontext.drawImage(video, 0, 0, 640, 480);","  });","}, false);",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":11},"end":{"row":3,"column":19},"action":"remove","lines":["EZTravel"]},{"start":{"row":3,"column":11},"end":{"row":3,"column":12},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":14},"end":{"row":3,"column":15},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":15},"end":{"row":3,"column":16},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":16},"end":{"row":3,"column":17},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":17},"end":{"row":3,"column":18},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":0},"end":{"row":98,"column":0},"action":"remove","lines":["          ","          <video id=\"video\" width=\"640\" height=\"480\" autoplay></video>","          <button id=\"snap\">Snap Photo</button>","          <canvas id=\"canvas\" width=\"640\" height=\"480\"></canvas>",""]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":72},"end":{"row":56,"column":80},"action":"remove","lines":["EZTravel"]},{"start":{"row":56,"column":72},"end":{"row":56,"column":73},"action":"insert","lines":["C"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":73},"end":{"row":56,"column":74},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":74},"end":{"row":56,"column":75},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":75},"end":{"row":56,"column":76},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":76},"end":{"row":56,"column":77},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":77},"end":{"row":56,"column":78},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":78},"end":{"row":56,"column":79},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":74},"end":{"row":56,"column":75},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":74},"end":{"row":56,"column":75},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":21},"end":{"row":56,"column":56},"action":"remove","lines":["https://github.com/Statoil/EZTravel"]},{"start":{"row":56,"column":21},"end":{"row":56,"column":62},"action":"insert","lines":["https://github.com/ingvildodegard/CoDrive"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":0},"end":{"row":71,"column":0},"action":"remove","lines":["     <!--   <div class=\"span3\">","          <ul class=\"nav nav-list well\">","            <li class=\"nav-header\">Local Users</li>","            <li ng-repeat=\"user in roster\" ng-bind=\"user\">","            </li>","          </ul>","        </div>  -->",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":15,"column":0},"end":{"row":15,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1426524255135,"hash":"a3e77534cc74b71e368c9bc0cccfefbdc6181627"}